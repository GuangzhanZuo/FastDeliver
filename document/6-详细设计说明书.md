1 引言

### 1.1 编写目的

本概要设计说明书目的是为了确定应该如何具体地实现“快递代拿（FastDeliver）”项目，从而在编码阶段可以把这个描述直接翻译成用具体的程序语言书写的程序。主要的工作有：根据在《需求分析说明书》中所描述的数据、功能、运行、性能需求，并依照《概要设计说明书》所确定的处理流程、总体结构和模块外部设计，设计软件系统的结构设计、逐个模块的程序描述（包括各模块的功能、性能、输入、输出、算法、程序逻辑、接口等等。作为开发人员和测试人员进一步变成和编码测试用例依据。

### 1.2 背景

A. 项目名称是“快递代拿”(FastDeliver)

B. 本项目的任务提出者为软件工程课程快递代拿小组,开发者为该小组中的全部同学,用户为集美大学的在校学生。主要功能是实现用户登录，用户订单，送货员接受订单和订单跟踪，售后订单管理等功能。项目周期为2周。

C. 该软件系统需要与以下系统进行数据交互（TODO）:

* 第三方支付系统:实现学生订单在线支付功能
* 地图导航系统:优化快递

### 1.3 定义（TODO）

### 1.4 参考资料（TODO）



## 2 程序系统的结构

1. 整体用例图

![](./pic/OverallUseCase.png)

2. 整体类图

![](./pic/OverallClass.png)

## 3 程序1设计说明

测试

### 3.1 程序描述

### 3.2 功能

### 3.3 性能

### 3.4 输入项

### 3.5 输出项

### 3.6 算法

### 3.7 流程逻辑

### 3.8 接口

### 3.9 存储分配

### 3.10 注释设计

### 3.11 限制条件

### 3.12 测试设计

### 3.13 尚未解决的问题

## 4 余额管理子程序设计说明

### 4.1 程序描述

对用户的余额进行修改、对用户的余额及余额变动记录进行查询

### 4.2 功能

![](.\pic\6.4.2.png)

### 4.3 性能

金额精确到0.01元，时间精确到秒，其他数字均精确到整数位

### 4.4 输入项

| 名称            | 标识符         | 数据类型 | 长度 | 输入方式 |
| --------------- | -------------- | -------- | ---- | -------- |
| 账号            | account_id     | char     | 10   | 自动输入 |
| 交易类型        | deal_structure | char     | 4    | 自动输入 |
| 交易金额        | deal_amount    | int      |      | 自动输入 |
| 总金额          | total_balance  | int      |      | 自动输入 |
| 可提现/支付金额 | active_balance | int      |      | 自动输入 |
| 冻结金额        | frozen_balance | int      |      | 自动输入 |

### 4.5 输出项

| 名称            | 标识符         | 数据类型 | 长度 | 输入方式 |
| --------------- | -------------- | -------- | ---- | -------- |
| 账号            | account_id     | char     | 10   | 自动输入 |
| 交易类型        | deal_structure | char     | 4    | 自动输入 |
| 交易单号        | deal_id        | char     | 20   | 自动输入 |
| 交易金额        | deal_amount    | int      |      | 自动输入 |
| 交易时间        | deal_date      | date     |      | 自动输入 |
| 总金额          | total_balance  | int      |      | 自动输入 |
| 可提现/支付金额 | active_balance | int      |      | 自动输入 |
| 冻结金额        | frozen_balance | int      |      | 自动输入 |

### 4.6 算法

总金额 = 可提现/支付金额 + 冻结金额

接受订单：冻结金额 + 交易金额

提交订单、余额提现：可提现/支付金额 - 交易金额

余额充值、取消订单：可提现/支付金额 + 交易金额

订单审核：冻结金额 - 交易金额、可提现/支付金额 + 交易金额

### 4.7 流程逻辑

![](.\pic\6.4.7.png)

### 4.8 接口

![](.\pic\6.4.8.png)

### 4.9 存储分配

| 名称            | 标识符         | 数据类型 | 长度 |
| --------------- | -------------- | -------- | ---- |
| 账号            | account_id     | char     | 10   |
| 交易类型        | deal_structure | char     | 4    |
| 交易单号        | deal_id        | char     | 20   |
| 交易金额        | deal_amount    | int      |      |
| 交易时间        | deal_date      | date     |      |
| 总金额          | total_balance  | int      |      |
| 可提现/支付金额 | active_balance | int      |      |
| 冻结金额        | frozen_balance | int      |      |



### 4.10 注释设计

A、在模块首部注释说明模块开始编写的时间、编写人员及其基本功能

B、在变量声明阶段，大概说明变量的类型和用途

### 4.11 限制条件

必须保证程序正常的连接到服务器。

### 4.12 测试设计

1. 测试金额计算是否符合系统逻辑运算法则
2. 测试查询功能是否可以正常使用
3. 测试时间能否正确输出

### 4.13 尚未解决的问题

暂无
